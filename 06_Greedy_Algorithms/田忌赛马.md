# 田忌赛马（Tian Ji Racing）

贪心算法要点（最大化净胜场）：

## 不变式（核心策略）
- 如果能用「我方最快」赢「对方最快」，就立刻匹配并取胜（留着慢马也赢不了更快的人）。
- 否则，如果能用「我方最慢」赢「对方最慢」，就立刻匹配并取胜（留着快马也不会多赢一场）。
- 如果以上都做不到，就用「我方最慢」去对「对方最快」：
	- 要么输一场（最慢 < 最快），
	- 要么平一场（最慢 = 最快），
	- 无论如何都不会有更优结果。

将上述三步循环 n 次，可得到最大净胜场数。

## 算法步骤
1. 将双方马匹速度排序（升序）。
2. 维护两端指针：`i, j` 指我方最慢/最快；`p, q` 指对方最慢/最快。
3. 按不变式匹配：
	 - 若我方最快 > 对方最快：我方赢一场，`j--, q--`。
	 - 否则若我方最慢 > 对方最慢：我方赢一场，`i++, p++`。
	 - 否则：用我方最慢对上对方最快，`i++, q--`（输或平）。
4. 统计净胜场（胜 +1，负 -1，平 0）。

时间复杂度：排序 O(n log n)，双指针匹配 O(n)。总计 O(n log n)。

## 正确性说明（交换论证要点）
- 若存在一对最优解中将我方更快的马留到后面再去对更快的对手，而当前可直接取胜，则交换顺序不会变差，且常常更优。
- 当无法提升胜场时，用最慢去“送”对方最快，避免浪费中间速度的匹配资源；任何将更好的马消耗在注定要输的对决上的策略都不优。

上述不变式可用交换论证（exchange argument）形式化证明最优性。